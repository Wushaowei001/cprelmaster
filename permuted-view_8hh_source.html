<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>/home/gg/Work/cprelmaster/master/cprel/permuted-view.hh Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script src="http://www.mathjax.org/mathjax/MathJax.js">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>/home/gg/Work/cprelmaster/master/cprel/permuted-view.hh</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef __CPREL_CPREL_PERMUTED_VIEW_HH__</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define __CPREL_CPREL_PERMUTED_VIEW_HH__</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;cprel/cprel.hh&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;cprel/grelation.hh&gt;</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="keyword">namespace </span>MPG { <span class="keyword">namespace </span>CPRel {
<a name="l00008"></a>00008 
<a name="l00017"></a>00017 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> View&gt;
<a name="l00018"></a><a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html">00018</a> <span class="keyword">class </span><a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html" title="Permuted relation viewA permuted view  for a relation view  provides operations such that  behaves li...">PermutedView</a> : <span class="keyword">public</span> Gecode::DerivedView&lt;View&gt; {
<a name="l00019"></a>00019 <span class="keyword">protected</span>:
<a name="l00021"></a>00021   <span class="keyword">using</span> Gecode::DerivedView&lt;View&gt;::x;
<a name="l00022"></a>00022 
<a name="l00026"></a>00026 
<a name="l00028"></a><a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a7c833acc3820f9756fae3d81553ed3e7">00028</a>   <span class="keyword">const</span> <a class="code" href="classMPG_1_1CPRel_1_1PermDescriptor.html" title="Describes a permutation on a relationA Permutation descriptor describes the way to perform a given pe...">PermDescriptor</a> <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a7c833acc3820f9756fae3d81553ed3e7" title="Associated descriptor.">desc_</a>;
<a name="l00030"></a><a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#ade63666d203c7d5e5b50fc491e9e6f12">00030</a>   <span class="keyword">const</span> <a class="code" href="classMPG_1_1CPRel_1_1PermDescriptor.html" title="Describes a permutation on a relationA Permutation descriptor describes the way to perform a given pe...">PermDescriptor</a> <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#ade63666d203c7d5e5b50fc491e9e6f12" title="Inverse descriptor.">inverse_</a>;
<a name="l00031"></a>00031 <span class="keyword">public</span>:
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 
<a name="l00035"></a>00035   <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#ab5a24ce052c6c01908cd91dbbba9aae9" title="Default constructor.">PermutedView</a>(<span class="keywordtype">void</span>);
<a name="l00037"></a>00037   <span class="keyword">explicit</span> <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#ab5a24ce052c6c01908cd91dbbba9aae9" title="Default constructor.">PermutedView</a>(View&amp; y, <span class="keyword">const</span> <a class="code" href="classMPG_1_1CPRel_1_1PermDescriptor.html" title="Describes a permutation on a relationA Permutation descriptor describes the way to perform a given pe...">PermDescriptor</a>&amp; d);
<a name="l00039"></a><a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#abe21d5a9add366270c378c577540d1f8">00039</a>   <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#ab5a24ce052c6c01908cd91dbbba9aae9" title="Default constructor.">PermutedView</a>(<span class="keyword">const</span> <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html" title="Permuted relation viewA permuted view  for a relation view  provides operations such that  behaves li...">PermutedView&lt;View&gt;</a>&amp; v)
<a name="l00040"></a>00040     : Gecode::DerivedView&lt;View&gt;(v), <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a7c833acc3820f9756fae3d81553ed3e7" title="Associated descriptor.">desc_</a>(v.<a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a7c833acc3820f9756fae3d81553ed3e7" title="Associated descriptor.">desc_</a>), <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#ade63666d203c7d5e5b50fc491e9e6f12" title="Inverse descriptor.">inverse_</a>(v.<a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#ade63666d203c7d5e5b50fc491e9e6f12" title="Inverse descriptor.">inverse_</a>) {}
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 
<a name="l00048"></a><a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#afc06bc5bee982d8d67704de6ba658648">00048</a>   <a class="code" href="classMPG_1_1CPRel_1_1GRelation.html" title="Class representing a ground relation.This class provides a way to represent a relation along with ope...">GRelation</a> <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#afc06bc5bee982d8d67704de6ba658648" title="Returns a relation representing the greatest lower bound of the variable.">glb</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{
<a name="l00049"></a>00049     <span class="keywordflow">return</span> x.glb().<a class="code" href="classMPG_1_1CPRel_1_1GRelation.html#a713b80d4bcaf356bf6602d745325c793" title="Computes the permutation of this according to desc.">permute</a>(<a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a7c833acc3820f9756fae3d81553ed3e7" title="Associated descriptor.">desc_</a>);
<a name="l00050"></a>00050   }
<a name="l00055"></a><a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a55e10fded99a80d1f212faa78ff51c43">00055</a>   <a class="code" href="classMPG_1_1CPRel_1_1GRelation.html" title="Class representing a ground relation.This class provides a way to represent a relation along with ope...">GRelation</a> <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a55e10fded99a80d1f212faa78ff51c43" title="Returns a relation representing the least upper bound of the variable.">lub</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{
<a name="l00056"></a>00056     <span class="keywordflow">return</span> x.lub().<a class="code" href="classMPG_1_1CPRel_1_1GRelation.html#a713b80d4bcaf356bf6602d745325c793" title="Computes the permutation of this according to desc.">permute</a>(<a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a7c833acc3820f9756fae3d81553ed3e7" title="Associated descriptor.">desc_</a>);
<a name="l00057"></a>00057   }
<a name="l00064"></a><a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a531eb6246933db4ded3848244f3b880e">00064</a>   <a class="code" href="classMPG_1_1CPRel_1_1GRelation.html" title="Class representing a ground relation.This class provides a way to represent a relation along with ope...">GRelation</a> <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a531eb6246933db4ded3848244f3b880e" title="Unknown access.">unk</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{
<a name="l00065"></a>00065     <span class="keywordflow">return</span> x.unk().<a class="code" href="classMPG_1_1CPRel_1_1GRelation.html#a713b80d4bcaf356bf6602d745325c793" title="Computes the permutation of this according to desc.">permute</a>(<a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a7c833acc3820f9756fae3d81553ed3e7" title="Associated descriptor.">desc_</a>);
<a name="l00066"></a>00066   }
<a name="l00074"></a><a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a5d993b25099e7184c365986c0f27ee01">00074</a>   <a class="code" href="classMPG_1_1CPRel_1_1GRelation.html" title="Class representing a ground relation.This class provides a way to represent a relation along with ope...">GRelation</a> <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a5d993b25099e7184c365986c0f27ee01" title="Out of bound access.">oob</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{
<a name="l00075"></a>00075     <span class="keywordflow">return</span> x.oob().<a class="code" href="classMPG_1_1CPRel_1_1GRelation.html#a713b80d4bcaf356bf6602d745325c793" title="Computes the permutation of this according to desc.">permute</a>(<a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a7c833acc3820f9756fae3d81553ed3e7" title="Associated descriptor.">desc_</a>);
<a name="l00076"></a>00076   }
<a name="l00078"></a>00078 
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 
<a name="l00084"></a><a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a0bd43cbc24c084d3f840a94ea9f2bdd0">00084</a>   ModEvent <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a0bd43cbc24c084d3f840a94ea9f2bdd0" title="Prune the variable by doing: .">include</a>(Space&amp; home, <span class="keyword">const</span> <a class="code" href="classMPG_1_1CPRel_1_1GRelation.html" title="Class representing a ground relation.This class provides a way to represent a relation along with ope...">GRelation</a>&amp; r) {
<a name="l00085"></a>00085     <a class="code" href="classMPG_1_1CPRel_1_1GRelation.html" title="Class representing a ground relation.This class provides a way to represent a relation along with ope...">GRelation</a> s = r.<a class="code" href="classMPG_1_1CPRel_1_1GRelation.html#a713b80d4bcaf356bf6602d745325c793" title="Computes the permutation of this according to desc.">permute</a>(<a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#ade63666d203c7d5e5b50fc491e9e6f12" title="Inverse descriptor.">inverse_</a>);
<a name="l00086"></a>00086     <span class="keywordflow">return</span> x.include(home,s);
<a name="l00087"></a>00087   }
<a name="l00092"></a><a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#ab3087d4c45c633852d9a66505e7646f5">00092</a>   ModEvent <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#ab3087d4c45c633852d9a66505e7646f5" title="Prune the variable by doing: .">exclude</a>(Space&amp; home, <span class="keyword">const</span> <a class="code" href="classMPG_1_1CPRel_1_1GRelation.html" title="Class representing a ground relation.This class provides a way to represent a relation along with ope...">GRelation</a>&amp; r) {
<a name="l00093"></a>00093     <a class="code" href="classMPG_1_1CPRel_1_1GRelation.html" title="Class representing a ground relation.This class provides a way to represent a relation along with ope...">GRelation</a> s = r.<a class="code" href="classMPG_1_1CPRel_1_1GRelation.html#a713b80d4bcaf356bf6602d745325c793" title="Computes the permutation of this according to desc.">permute</a>(<a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#ade63666d203c7d5e5b50fc491e9e6f12" title="Inverse descriptor.">inverse_</a>);
<a name="l00094"></a>00094     <span class="keywordflow">return</span> x.exclude(home,s);
<a name="l00095"></a>00095   }
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 
<a name="l00099"></a>00099 
<a name="l00106"></a><a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a6dc5bd5faa5cae8822974c6d62aad209">00106</a>   <span class="keywordtype">void</span> <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a6dc5bd5faa5cae8822974c6d62aad209" title="Subscribe propagator p with propagation condition pc to view.">subscribe</a>(Space&amp; home, Propagator&amp; p, PropCond pc, <span class="keywordtype">bool</span> <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a3cbcb04e8e5976ddd5fb00ef79772fad" title="Schedule propagator p with modification event me.">schedule</a> = <span class="keyword">true</span>) {
<a name="l00107"></a>00107     x.subscribe(home,p,pc,<a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a3cbcb04e8e5976ddd5fb00ef79772fad" title="Schedule propagator p with modification event me.">schedule</a>);
<a name="l00108"></a>00108   }
<a name="l00110"></a><a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#ac9b295c45f1f329e6862e623f63c3c78">00110</a>   <span class="keywordtype">void</span> <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#ac9b295c45f1f329e6862e623f63c3c78" title="Cancel subscription of propagator p with propagation condition pc to view.">cancel</a>(Space&amp; home, Propagator&amp; p, PropCond pc) {
<a name="l00111"></a>00111     x.cancel(home,p,pc);
<a name="l00112"></a>00112   }
<a name="l00114"></a><a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a72bfeb2066e9902e832ed3173260b174">00114</a>   <span class="keywordtype">void</span> <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a72bfeb2066e9902e832ed3173260b174" title="Subscribe advisor a to view.">subscribe</a>(Space&amp; home, Advisor&amp; a) {
<a name="l00115"></a>00115     x.subscribe(home,a);
<a name="l00116"></a>00116   }
<a name="l00118"></a><a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a379ee214243f141922d54013f855d26c">00118</a>   <span class="keywordtype">void</span> <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a379ee214243f141922d54013f855d26c" title="Cancel subscription of advisor a.">cancel</a>(Space&amp; home, Advisor&amp; a) {
<a name="l00119"></a>00119     x.cancel(home,a);
<a name="l00120"></a>00120   }
<a name="l00122"></a>00122 
<a name="l00123"></a>00123 
<a name="l00124"></a>00124 
<a name="l00125"></a><a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a3cbcb04e8e5976ddd5fb00ef79772fad">00125</a>   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a3cbcb04e8e5976ddd5fb00ef79772fad" title="Schedule propagator p with modification event me.">schedule</a>(Space&amp; home, Propagator&amp; p, ModEvent me) {
<a name="l00126"></a>00126     <span class="keywordflow">return</span> <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a3cbcb04e8e5976ddd5fb00ef79772fad" title="Schedule propagator p with modification event me.">View::schedule</a>(home,p,me);
<a name="l00127"></a>00127   }
<a name="l00129"></a>00129   <span class="comment">//static ModEvent me(const ModEventDelta&amp; med);</span>
<a name="l00131"></a>00131 <span class="comment"></span>  <span class="comment">//static ModEventDelta med(ModEvent);</span>
<a name="l00133"></a>00133 <span class="comment"></span>};
<a name="l00134"></a>00134 }}
<a name="l00135"></a>00135 
<a name="l00136"></a>00136 <span class="keyword">namespace </span>MPG { <span class="keyword">namespace </span>CPRel {
<a name="l00137"></a>00137 
<a name="l00138"></a>00138 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> View&gt;
<a name="l00139"></a><a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#ab5a24ce052c6c01908cd91dbbba9aae9">00139</a> <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#ab5a24ce052c6c01908cd91dbbba9aae9" title="Default constructor.">PermutedView&lt;View&gt;::PermutedView</a>(<span class="keywordtype">void</span>) {}
<a name="l00140"></a>00140 
<a name="l00141"></a>00141 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> View&gt;
<a name="l00142"></a><a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a7a817ddaa2530f8691f302ea59ea8da2">00142</a> <a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#ab5a24ce052c6c01908cd91dbbba9aae9" title="Default constructor.">PermutedView&lt;View&gt;::PermutedView</a>(View&amp; y, <span class="keyword">const</span> <a class="code" href="classMPG_1_1CPRel_1_1PermDescriptor.html" title="Describes a permutation on a relationA Permutation descriptor describes the way to perform a given pe...">PermDescriptor</a>&amp; d)
<a name="l00143"></a>00143   : Gecode::DerivedView&lt;View&gt;(y), desc_(d), inverse_(d.inverse()) {
<a name="l00144"></a>00144 
<a name="l00145"></a>00145   <span class="keywordflow">if</span> (!<a class="code" href="classMPG_1_1CPRel_1_1PermutedView.html#a7c833acc3820f9756fae3d81553ed3e7" title="Associated descriptor.">desc_</a>.<a class="code" href="classMPG_1_1CPRel_1_1PermDescriptor.html#a4bb4b3bfce8b3e8a3b6c443f040da0f3" title="Tests whether the description is valid for a relation of arity a.">valid</a>(y.arity()))
<a name="l00146"></a>00146     <span class="keywordflow">throw</span> <a class="code" href="classMPG_1_1CPRel_1_1InvalidPermutation.html" title="Exception indicating invalid permutation.">InvalidPermutation</a>(<span class="stringliteral">&quot;permutation constraint (invalid especification)&quot;</span>);
<a name="l00147"></a>00147 }
<a name="l00148"></a>00148 
<a name="l00149"></a>00149 
<a name="l00150"></a>00150 }}
<a name="l00151"></a>00151 <span class="preprocessor">#endif</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Jun 16 2011 21:20:59 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
